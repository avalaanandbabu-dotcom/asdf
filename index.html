<!DOCTYPE html>
<html>
<head>
<title>Small Envelope Surprise</title>
<style>
body{
    margin:0;
    background:black;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    flex-direction:column;
    font-family:Arial, sans-serif;
    color:white;
}

h1{
    margin-bottom:15px;
    font-size:0.8cm;
    text-align:center;
}

.envelope{
    position:relative;
    width:1.5cm;
    height:1cm;
    background:#c0392b;
}

.flap{
    position:absolute;
    width:0;
    height:0;
    border-left:0.75cm solid transparent;
    border-right:0.75cm solid transparent;
    border-top:0.5cm solid #e74c3c;
    top:0;
    left:0;
    transform-origin:top;
    transition:0.6s ease;
}

.open .flap{
    transform:rotateX(180deg);
}

.button{
    margin-top:20px;
    padding:8px 20px;
    font-size:0.6cm;
    border:none;
    border-radius:20px;
    background:#111;
    color:white;
    cursor:pointer;
    position:relative;
    overflow:hidden;
}

.button::before{
    content:"";
    position:absolute;
    top:0;
    left:-100%;
    width:100%;
    height:100%;
    background:linear-gradient(120deg, transparent, #fff, transparent);
    animation:sparkle 2s infinite;
}

@keyframes sparkle{
    0%{left:-100%;}
    50%{left:100%;}
    100%{left:100%;}
}
</style>
</head>
<body>

<h1>I HAVE SOMETHING FOR YOU</h1>

<div class="envelope" id="envelope">
    <div class="flap"></div>
</div>

<button class="button" id="openBtn">✨ Click Me ✨</button>

<!-- Hidden audio element -->
<audio id="mySong" src="audio.mp3" preload="auto"></audio>

<script>
const button = document.getElementById("openBtn");
const envelope = document.getElementById("envelope");
const audio = document.getElementById("mySong");

// Set volume 0 for fade-in
audio.volume = 0;

button.addEventListener("click", function() {
    // Open the envelope flap
    envelope.classList.add("open");

    // Play audio directly on click (no load()!)
    audio.currentTime = 0;
    audio.play().catch(e => console.log("Audio play failed:", e));

    // Smooth fade-in over 3 seconds
    let fadeDuration = 3000; // ms
    let fadeStep = 50;       // ms
    let increment = fadeStep / fadeDuration;
    let fadeInterval = setInterval(() => {
        if(audio.volume < 1){
            audio.volume = Math.min(audio.volume + increment, 1);
        } else {
            clearInterval(fadeInterval);
        }
    }, fadeStep);

    // Redirect after 3 seconds
    setTimeout(() => {
        window.location.href = "internal.html"; // Replace with your second page
    }, 3000);
});
</script>

</body>
</html>
